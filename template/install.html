<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <title>1pass4all's installation</title>
        <link href="install.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <h2>1pass4all (version $VERSION) <a href="install_zh.html">中文</a></h2>

        <p>
            <a href="http://hzheng.github.com/1pass4all">1pass4all</a> is 
            a bookmarklet to create passwords easily and securely. For more
            details, please read its introduction
            <a href="http://en.zhenghui.org/2012/02/21/one-pass-for-all-intro/">here</a>.
        </p>

        <h3>Customization:</h3>
        <p>
            Before installation, you probably need customize bookmarklets
            for better security(esp.
            <a href="http://en.wikipedia.org/wiki/Salt_(cryptography)">cryptographic salt</a>).
        </p>

        <div>
            <label>Password length:</label>
            <input type="hidden" id="passLenHidden" value="$PASS_LEN"/>
            <select id="passLen"></select>
            (longer password means higher security)<br/>
 
            <label>Password charset:</label>
            <input type="hidden" id="passBaseHidden" value="$PASS_BASE"/>
            <select id="passBase">
                <option value="94">
                    printable characters
                </option>
                <option value="64">
                    letters, digits, + and /
                </option>
                <option value="62">
                    letters and digits
                </option>
                <option value="10">
                    digits only
                </option>
            </select>
            (larger character set means higher security)<br/>
            <label>Iteration:</label>
            <input id="iteration" maxlength="4" value="$ITERATION"/>
            (range: 0-9999, more iterations means higher security and lower speed)<br/>
            <label>Salt:</label>
            <input id="salt" size="64" value="$SALT"/>
            (<a href="javascript:newSalt()">change salt</a> is STRONGLY recommended)
            <br/>
            <label>Auto-login:</label>
            <input type="hidden" id="autoSubmitHidden" value="$AUTO_SUBMIT"/>
            <input type="checkbox" id="autoSubmit"/>
            (auto-submit in login page after a master password being filled out)
            <br/>
            <label>&nbsp;</label>
            <button onclick="customize('customization done', 'customizing...')">customize</button>
            <span id="msg"></span>
        </div>

        <h3>Installation:</h3>
        <div>
            <div class="version">
                <a id="bookmarklet_ie" href='javascript:_1pass4all_settings={salt:"$SALT",iteration:"$ITERATION",passLen:"$PASS_LEN",passBase:"$PASS_BASE",autoSubmit:"$AUTO_SUBMIT"};s=document.createElement("script");s.type="text/javascript";s.src="$SCRIPT_URL";document.body.appendChild(s);void(0);'>IE version</a>
                <span>(for Internet Explorer)</span><br/>
                <div class="description">
                    Drag the above hyperlink to the favorites bar or
                    right click it to add to favorites bar.
                </div>
            </div>
            <div class="version">
                <a id="bookmarklet" href='javascript: 
                $SCRIPT
                '>Non-IE version</a>
                <span>(for Firefox/Chrome/Safari/Opera)</span><br/>

                <div class="description">
                    Drag the above hyperlink to the bookmarks toolbar or
                    right click it to add to bookmarks.
                </div>
            </div>
            <div class="version">
                <a href="mobile.html">Mobile version</a>
                <span>(on mobile/other's computer/untrusted website)</span><br/>

                <div class="description">
                    Save the above hyperlink as a bookmark or a local HTML file.
                </div>
            </div>
            <div class="version">
                <a href="https://github.com/hzheng/1pass4all">DIY version</a>
                <span>(for advanced user)</span><br/>

                <div class="description">
                    Follow the above hyperlink to check out the project on
                    GitHub and read the README file.
                </div>
            </div>
        </div>

        <h3>Usage:</h3>
        <p>
            Basic usage of 1pass4all can be described by the following
            two simple scenarios. For more advanced usage, please refer to
            the usage section of
            <a href="https://github.com/hzheng/1pass4all/blob/master/README.rst">
            README file</a>.
        </p>
        <li>change password with 1pass4all</li>
        <p>
            Have a strong and secret password in mind(called "master password"
            hereafter), log in some web account and go to password-change page.
            Fill the new-password field with the master password and then click
            1pass4all bookmarklet. A new password will be generated and
            substitute the master password in-place.
            If applicable, repeat the action in a confirmed-password field.
            Save the change and log out.
        </p>
        <li>log in with 1pass4all</li>
        <p>
            Back to login page, type a username in the login field and a master
            password into the password field, then click the 1pass4all
            bookmarklet. Just as the previous step, the actual password is
            populated. The only difference is 1pass4all will auto-submit
            login form this time(provided that auto-login is enabled).
        </p>
 
        <hr/>
        <div class="note">
            <em>Note:</em>
            <p>
                Clicking on the <span class="button">customize</span> button 
                will update bookmarklets of IE version and non-IE version.
                DIY version can be customized by editing corresponding variables
                in Makefile. As for mobile version, if you don't want to change
                the parameters on every refresh page, you have to generate
                mobile page from Makefile, or manually edit the mobile version's
                HTML file.
            </p>
            <strong>Warning:</strong>
            <p>
                You MUST make sure the bookmarklets(or bookmarks in mobile
                version) installed on different browsers or computers have
                EXACTLY the same paramters, including password length,
                password charset, iteration and salt, otherwise they will
                NOT be compatible.
            </p>
        </div>

        <script src="install.js" type="text/javascript"></script>
    </body>
</html>
